{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Munawar/Desktop/Mern-Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Munawar/Desktop/Mern-Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Munawar/Desktop/Mern-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Layout from\"./../../components/Layout/Layout\";import AdminMenu from\"./../../components/Layout/AdminMenu\";import toast from\"react-hot-toast\";import axios from\"axios\";import{Select}from\"antd\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Option=Select.Option;var CreateProduct=function CreateProduct(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),category=_useState10[0],setCategory=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),quantity=_useState12[0],setQuantity=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),shipping=_useState14[0],setShipping=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),photo=_useState16[0],setPhoto=_useState16[1];//get all category\nvar getAllCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/v1/category/get-category\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(data!==null&&data!==void 0&&data.success){setCategories(data===null||data===void 0?void 0:data.category);}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);toast.error(\"Something wwent wrong in getting catgeory\");case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getAllCategory(){return _ref.apply(this,arguments);};}();useEffect(function(){getAllCategory();},[]);//create product function\nvar handleCreate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var productData,_axios$post,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();try{productData=new FormData();productData.append(\"name\",name);productData.append(\"description\",description);productData.append(\"price\",price);productData.append(\"quantity\",quantity);productData.append(\"photo\",photo);productData.append(\"category\",category);_axios$post=axios.post(\"/api/v1/product/create-product\",productData),data=_axios$post.data;if(data!==null&&data!==void 0&&data.success){toast.error(data===null||data===void 0?void 0:data.message);}else{toast.success(\"Product Created Successfully\");navigate(\"/dashboard/admin/products\");}}catch(error){console.log(error);toast.error(\"something went wrong\");}case 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleCreate(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Layout,{title:\"Dashboard - Create Product\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid m-3 p-3 dashboard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(AdminMenu,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-1 w-75\",children:[/*#__PURE__*/_jsx(Select,{bordered:false,placeholder:\"Select a category\",size:\"large\",showSearch:true,className:\"form-select mb-3\",onChange:function onChange(value){setCategory(value);},children:categories===null||categories===void 0?void 0:categories.map(function(c){return/*#__PURE__*/_jsx(Option,{value:c._id,children:c.name},c._id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"btn btn-outline-secondary col-md-12\",children:[photo?photo.name:\"Upload Photo\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"photo\",accept:\"image/*\",onChange:function onChange(e){return setPhoto(e.target.files[0]);},hidden:true})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:photo&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(photo),alt:\"product_photo\",height:\"200px\",className:\"img img-responsive\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,placeholder:\"write a name\",className:\"form-control\",onChange:function onChange(e){return setName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",value:description,placeholder:\"write a description\",className:\"form-control\",onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:price,placeholder:\"write a Price\",className:\"form-control\",onChange:function onChange(e){return setPrice(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,placeholder:\"write a quantity\",className:\"form-control\",onChange:function onChange(e){return setQuantity(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Select,{bordered:false,placeholder:\"Select Shipping \",size:\"large\",showSearch:true,className:\"form-select mb-3\",onChange:function onChange(value){setShipping(value);},children:[/*#__PURE__*/_jsx(Option,{value:\"0\",children:\"No\"}),/*#__PURE__*/_jsx(Option,{value:\"1\",children:\"Yes\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleCreate,children:\"CREATE PRODUCT\"})})]})]})]})})});};export default CreateProduct;","map":{"version":3,"names":["React","useState","useEffect","Layout","AdminMenu","toast","axios","Select","useNavigate","Option","CreateProduct","navigate","categories","setCategories","name","setName","description","setDescription","price","setPrice","category","setCategory","quantity","setQuantity","shipping","setShipping","photo","setPhoto","getAllCategory","get","data","success","console","log","error","handleCreate","e","preventDefault","productData","FormData","append","post","message","value","map","c","_id","target","files","URL","createObjectURL"],"sources":["C:/Users/Munawar/Desktop/Mern-Project/client/src/pages/Admin/CreateProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"./../../components/Layout/Layout\";\nimport AdminMenu from \"./../../components/Layout/AdminMenu\";\nimport toast from \"react-hot-toast\";\nimport axios from \"axios\";\nimport { Select } from \"antd\";\nimport { useNavigate } from \"react-router-dom\";\nconst { Option } = Select;\n\nconst CreateProduct = () => {\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [quantity, setQuantity] = useState(\"\");\n  const [shipping, setShipping] = useState(\"\");\n  const [photo, setPhoto] = useState(\"\");\n\n  //get all category\n  const getAllCategory = async () => {\n    try {\n      const { data } = await axios.get(\"/api/v1/category/get-category\");\n      if (data?.success) {\n        setCategories(data?.category);\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Something wwent wrong in getting catgeory\");\n    }\n  };\n\n  useEffect(() => {\n    getAllCategory();\n  }, []);\n\n  //create product function\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    try {\n      const productData = new FormData();\n      productData.append(\"name\", name);\n      productData.append(\"description\", description);\n      productData.append(\"price\", price);\n      productData.append(\"quantity\", quantity);\n      productData.append(\"photo\", photo);\n      productData.append(\"category\", category);\n      const { data } = axios.post(\n        \"/api/v1/product/create-product\",\n        productData\n      );\n      if (data?.success) {\n        toast.error(data?.message);\n      } else {\n        toast.success(\"Product Created Successfully\");\n        navigate(\"/dashboard/admin/products\");\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(\"something went wrong\");\n    }\n  };\n\n  return (\n    <Layout title={\"Dashboard - Create Product\"}>\n      <div className=\"container-fluid m-3 p-3 dashboard\">\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <AdminMenu />\n          </div>\n          <div className=\"col-md-9\">\n            <h1>Create Product</h1>\n            <div className=\"m-1 w-75\">\n              <Select\n                bordered={false}\n                placeholder=\"Select a category\"\n                size=\"large\"\n                showSearch\n                className=\"form-select mb-3\"\n                onChange={(value) => {\n                  setCategory(value);\n                }}\n              >\n                {categories?.map((c) => (\n                  <Option key={c._id} value={c._id}>\n                    {c.name}\n                  </Option>\n                ))}\n              </Select>\n              <div className=\"mb-3\">\n                <label className=\"btn btn-outline-secondary col-md-12\">\n                  {photo ? photo.name : \"Upload Photo\"}\n                  <input\n                    type=\"file\"\n                    name=\"photo\"\n                    accept=\"image/*\"\n                    onChange={(e) => setPhoto(e.target.files[0])}\n                    hidden\n                  />\n                </label>\n              </div>\n              <div className=\"mb-3\">\n                {photo && (\n                  <div className=\"text-center\">\n                    <img\n                      src={URL.createObjectURL(photo)}\n                      alt=\"product_photo\"\n                      height={\"200px\"}\n                      className=\"img img-responsive\"\n                    />\n                  </div>\n                )}\n              </div>\n              <div className=\"mb-3\">\n                <input\n                  type=\"text\"\n                  value={name}\n                  placeholder=\"write a name\"\n                  className=\"form-control\"\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <textarea\n                  type=\"text\"\n                  value={description}\n                  placeholder=\"write a description\"\n                  className=\"form-control\"\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n              </div>\n\n              <div className=\"mb-3\">\n                <input\n                  type=\"number\"\n                  value={price}\n                  placeholder=\"write a Price\"\n                  className=\"form-control\"\n                  onChange={(e) => setPrice(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <input\n                  type=\"number\"\n                  value={quantity}\n                  placeholder=\"write a quantity\"\n                  className=\"form-control\"\n                  onChange={(e) => setQuantity(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <Select\n                  bordered={false}\n                  placeholder=\"Select Shipping \"\n                  size=\"large\"\n                  showSearch\n                  className=\"form-select mb-3\"\n                  onChange={(value) => {\n                    setShipping(value);\n                  }}\n                >\n                  <Option value=\"0\">No</Option>\n                  <Option value=\"1\">Yes</Option>\n                </Select>\n              </div>\n              <div className=\"mb-3\">\n                <button className=\"btn btn-primary\" onClick={handleCreate}>\n                  CREATE PRODUCT\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default CreateProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}