{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Munawar/Desktop/Mern-Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Munawar/Desktop/Mern-Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Munawar/Desktop/Mern-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Layout from\"../components/Layout/Layout\";import{useParams,useNavigate}from\"react-router-dom\";import\"../styles/CategoryProductStyles.css\";import axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var CategoryProduct=function CategoryProduct(){var params=useParams();var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];useEffect(function(){if(params!==null&&params!==void 0&&params.slug)getPrductsByCat();},[params===null||params===void 0?void 0:params.slug]);var getPrductsByCat=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/v1/product/product-category/\".concat(params.slug));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setProducts(data===null||data===void 0?void 0:data.products);setCategory(data===null||data===void 0?void 0:data.category);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function getPrductsByCat(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3 category\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-center\",children:[\"Category - \",category===null||category===void 0?void 0:category.name]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-center\",children:[products===null||products===void 0?void 0:products.length,\" result found \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9 offset-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap\",children:products===null||products===void 0?void 0:products.map(function(p){return/*#__PURE__*/_jsxs(\"div\",{className:\"card m-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/api/v1/product/product-photo/\".concat(p._id),className:\"card-img-top\",alt:p.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-name-price\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:p.name}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title card-price\",children:p.price.toLocaleString(\"en-US\",{style:\"currency\",currency:\"USD\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text \",children:[p.description.substring(0,60),\"...\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-name-price\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info ms-1\",onClick:function onClick(){return navigate(\"/product/\".concat(p.slug));},children:\"More Details\"})})]})]},p._id);})})})})]})});};export default CategoryProduct;","map":{"version":3,"names":["React","useState","useEffect","Layout","useParams","useNavigate","axios","CategoryProduct","params","navigate","products","setProducts","category","setCategory","slug","getPrductsByCat","get","data","console","log","name","length","map","p","_id","price","toLocaleString","style","currency","description","substring"],"sources":["C:/Users/Munawar/Desktop/Mern-Project/client/src/pages/CategoryProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../components/Layout/Layout\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport \"../styles/CategoryProductStyles.css\";\nimport axios from \"axios\";\nconst CategoryProduct = () => {\n  const params = useParams();\n  const navigate = useNavigate();\n  const [products, setProducts] = useState([]);\n  const [category, setCategory] = useState([]);\n\n  useEffect(() => {\n    if (params?.slug) getPrductsByCat();\n  }, [params?.slug]);\n  const getPrductsByCat = async () => {\n    try {\n      const { data } = await axios.get(\n        `/api/v1/product/product-category/${params.slug}`\n      );\n      setProducts(data?.products);\n      setCategory(data?.category);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"container mt-3 category\">\n        <h4 className=\"text-center\">Category - {category?.name}</h4>\n        <h6 className=\"text-center\">{products?.length} result found </h6>\n        <div className=\"row\">\n          <div className=\"col-md-9 offset-1\">\n            <div className=\"d-flex flex-wrap\">\n              {products?.map((p) => (\n                <div className=\"card m-2\" key={p._id}>\n                  <img\n                    src={`/api/v1/product/product-photo/${p._id}`}\n                    className=\"card-img-top\"\n                    alt={p.name}\n                  />\n                  <div className=\"card-body\">\n                    <div className=\"card-name-price\">\n                      <h5 className=\"card-title\">{p.name}</h5>\n                      <h5 className=\"card-title card-price\">\n                        {p.price.toLocaleString(\"en-US\", {\n                          style: \"currency\",\n                          currency: \"USD\",\n                        })}\n                      </h5>\n                    </div>\n                    <p className=\"card-text \">\n                      {p.description.substring(0, 60)}...\n                    </p>\n                    <div className=\"card-name-price\">\n                      <button\n                        className=\"btn btn-info ms-1\"\n                        onClick={() => navigate(`/product/${p.slug}`)}\n                      >\n                        More Details\n                      </button>\n                      {/* <button\n                    className=\"btn btn-dark ms-1\"\n                    onClick={() => {\n                      setCart([...cart, p]);\n                      localStorage.setItem(\n                        \"cart\",\n                        JSON.stringify([...cart, p])\n                      );\n                      toast.success(\"Item Added to cart\");\n                    }}\n                  >\n                    ADD TO CART\n                  </button> */}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n            {/* <div className=\"m-2 p-3\">\n            {products && products.length < total && (\n              <button\n                className=\"btn btn-warning\"\n                onClick={(e) => {\n                  e.preventDefault();\n                  setPage(page + 1);\n                }}\n              >\n                {loading ? \"Loading ...\" : \"Loadmore\"}\n              </button>\n            )}\n          </div> */}\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default CategoryProduct;\n"],"mappings":"sZAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,OAAM,KAAM,6BAA6B,CAChD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,qCAAqC,CAC5C,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAC1B,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,GAAMC,OAAM,CAAGJ,SAAS,EAAE,CAC1B,GAAMK,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,cAAgCJ,QAAQ,CAAC,EAAE,CAAC,wCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAAgCV,QAAQ,CAAC,EAAE,CAAC,yCAArCW,QAAQ,eAAEC,WAAW,eAE5BX,SAAS,CAAC,UAAM,CACd,GAAIM,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEM,IAAI,CAAEC,eAAe,EAAE,CACrC,CAAC,CAAE,CAACP,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEM,IAAI,CAAC,CAAC,CAClB,GAAMC,gBAAe,4FAAG,oMAEGT,MAAK,CAACU,GAAG,4CACMR,MAAM,CAACM,IAAI,EAChD,uCAFOG,IAAI,kBAAJA,IAAI,CAGZN,WAAW,CAACM,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEP,QAAQ,CAAC,CAC3BG,WAAW,CAACI,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEL,QAAQ,CAAC,CAAC,+EAE5BM,OAAO,CAACC,GAAG,aAAO,CAAC,mEAEtB,kBAVKJ,gBAAe,0CAUpB,CAED,mBACE,KAAC,MAAM,wBACL,aAAK,SAAS,CAAC,yBAAyB,wBACtC,YAAI,SAAS,CAAC,aAAa,WAAC,aAAW,CAACH,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEQ,IAAI,GAAM,cAC5D,YAAI,SAAS,CAAC,aAAa,WAAEV,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEW,MAAM,CAAC,gBAAc,GAAK,cACjE,YAAK,SAAS,CAAC,KAAK,uBAClB,YAAK,SAAS,CAAC,mBAAmB,uBAChC,YAAK,SAAS,CAAC,kBAAkB,UAC9BX,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEY,GAAG,CAAC,SAACC,CAAC,qBACf,aAAK,SAAS,CAAC,UAAU,wBACvB,YACE,GAAG,yCAAmCA,CAAC,CAACC,GAAG,CAAG,CAC9C,SAAS,CAAC,cAAc,CACxB,GAAG,CAAED,CAAC,CAACH,IAAK,EACZ,cACF,aAAK,SAAS,CAAC,WAAW,wBACxB,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,WAAI,SAAS,CAAC,YAAY,UAAEG,CAAC,CAACH,IAAI,EAAM,cACxC,WAAI,SAAS,CAAC,uBAAuB,UAClCG,CAAC,CAACE,KAAK,CAACC,cAAc,CAAC,OAAO,CAAE,CAC/BC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KACZ,CAAC,CAAC,EACC,GACD,cACN,WAAG,SAAS,CAAC,YAAY,WACtBL,CAAC,CAACM,WAAW,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAAC,KAClC,GAAI,cACJ,YAAK,SAAS,CAAC,iBAAiB,uBAC9B,eACE,SAAS,CAAC,mBAAmB,CAC7B,OAAO,CAAE,yBAAMrB,SAAQ,oBAAac,CAAC,CAACT,IAAI,EAAG,EAAC,UAC/C,cAED,EAAS,EAcL,GACF,GAxCuBS,CAAC,CAACC,GAAG,CAyC9B,EACP,CAAC,EACE,EAcF,EACF,GACF,EACC,CAEb,CAAC,CAED,cAAejB,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}